---
layout: default
title: "Malware Analysis"
date: 2024-03-09
permalink: /Malware_Analysis/
categories: Malware
---

I have been following a course called Practical Malware Analysis and Triage.
This course is taught by Husky Hacks and once I complete the course I will also be taking the 
Practical Junior Malware Researcher (PJMR) exam.

# Environment 
For my malware analysis I used FlareVM and Remnux. Remnux is used to act as the network 
connection to FlareVM. Due to malware being able to detect whether or not a network connection is present,
and if one is not present the malware will delete itself from memory, Remnux acts as the network connection to prevent this 
from occurring. Please note that this is not the only purpose the Remnux machine serves, there is much more it can do.
Yes, you can have network simulation tools on the Windows machine (FlareVM), but if you encounter a ransomware sample 
some of your tooling may be unusable to encryption. As a result we can still use Remnux to continue analysis on the occasion that this occurs.

# SillyPutty
A particular challenge I completed in HuskyHacks course was analyzing a sample that looked like a regular PuTTY executable.

If you don't know PuTTY is a legitimate software application that is used to establish remote connections and provides command-line sessions on other computers, via the SSH protocol.

## Static Analysis 
When analyzing malware the first step is usually performing static analysis. This isn't mandatory, but it is generally a good practice to begin with this stage.

For this sample I obtained the file hashes using the following command:

```Get-filehash -Algorithm SHA256 .\putty.exe```

This above command must be input in a powershell command prompt, and obtains the SHA256sum of the malware sample, we can also do the same with MD5 and SHA1 hashes as well, it should be noted that MD5 and SHA1 are susceptible to <a href="https://en.wikipedia.org/wiki/Hash_collision">hashing collion</a> meaning the hash of the sample can point to another malware sample but doesn't actually behave like the malware that we are directed to. 

Continuing on with analysis we can use the file-hash to submit to what is known as an antivirus engine. A popular engine is known as <a href="https://www.virustotal.com/gui/home/upload">VirusTotal</a>. I do want to give a heads up that if you are a malware developer you should be mindful of where you submit your malware since some AV engines will share and report your malware making it less evasive when a security update rolls out. <a href="https://tryhackme.com/room/introtoav">TryHackMe</a> has a great room on how AntiVirus engines work. I highly recommend the people over at <a href="https://malcore.io/">Malcore</a> they are extremely helpful when it comes malware/malware analysis and even help students as well. 

